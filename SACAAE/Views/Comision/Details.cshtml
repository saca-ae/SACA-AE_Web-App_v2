@model SACAAE.Models.ViewModels.ProfessorAssignViewModel

@{
    ViewBag.Title = "Detalle";
    Layout = "~/Views/Shared/Privado.cshtml";
}
<link href="~/Content/custom.css" rel="stylesheet" />
<script src="~/Scripts/SiteScripts/assignProfesorCommission.js"></script>
<script>
    var tempIndex = 0;
    window.onload = function () {
        var table = document.getElementById('professor_assign_commission').getElementsByTagName('tbody')[0];
        var route = "/Commission/"+get_id(3)+"/Professors"
        $.getJSON(route, function (data)
        {
            for (i = 0; i < data.length; i++)
            {
                var row = table.insertRow(table.rows.length);
                var name_profesor_cell = row.insertCell(0);
                var hour_cell = row.insertCell(1);
                var action_cell = row.insertCell(2);
                name_profesor_cell.innerHTML = data[i].Name;
                hour_cell.innerHTML = "<p style=\"margin-left:20px;\">"+data[i].Hours+"</p>";
                action_cell.innerHTML = "<a onclick=ver_detalle_comision(" + data[i].commissionProfessorID + ") title=\"Ver Detalle Curso\"><span class=\"glyphicon glyphicon-eye-open\" aria-hidden=\"true\"></span></a> &nbsp" +
                                        "<a onclick=editar_asignacion_comision(" + data[i].commissionProfessorID + ") title=\"Editar\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span></a> &nbsp" +
                                         "<a href=\"\"  onclick = init_delete(" + data[i].professorID + ") data-toggle=\"modal\" data-target=\"#deleteModal\" title=\"Eliminar\"><span class=\"glyphicon  glyphicon-trash\" aria-hidden=\"true\"></span></a>"; 
                }
        });
    }

    function get_id(number) {
        var url = window.location.pathname.split('/');
        return url[number];
    }
</script>

    <h2>Detalles de la Comisi&oacute;n</h2>
    <hr />
        <table id="commission_information">
            <thead>
            </thead>
            <tbody>
                <tr>
                    <td class="static_info">Nombre</td>
                    <td class="dynamic_info">@Html.DisplayFor(model => model.Name)</td>
                </tr>
                <tr>
                    <td class="static_info">Inicio</td>
                    <td class="dynamic_info">@Html.DisplayFor(model => model.Start)</td>
                </tr>
                <tr>
                    <td class="static_info">Fin</td>
                    <td class="dynamic_info">@Html.DisplayFor(model => model.End)</td>
                </tr>
            </tbody>

        </table>
        <h3>Profesores</h3>
        <a href="@Url.Action("AsignarProfesorComision", new { id = Model.ID })">
    <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> Asignar Profesor
</a>
    
        <table id="professor_assign_commission" class="table">
            <thead>
                <th>Nombre</th>
                <th>Horas Dedicadas</th>
                <th>Acciones</th>
            </thead>
               
            <tbody>
            </tbody>
        </table>
   
        <p>
            @Html.ActionLink("Editar", "Edit", new { id = Model.ID }) |
            @Html.ActionLink("Regresar", "Index")
        </p>
   
 <!-- Delete professor -->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel">
    <div class="modal-dialog" role="document">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Remover Profesor</h4>
            </div>
            <div class="modal-body">
                <h2>¿Esta seguro que desea remover al profesor de la comision?</h2>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" id="deleteBtn" onclick="eliminar_asignacion_commission()">Eliminar</button>
            </div>
        </div>
    </div>
</div>

